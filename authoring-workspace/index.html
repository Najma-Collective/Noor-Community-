<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Noor Community Authoring Workspace</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-3hY6WdDsn1ZQvuV6L0+wBQU7S7t3uXc/kk9qfvvvfGXnMcfXv8q8IyKopFz23DjGea6M2K8KM9SaYtO2z8V2xA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="../interactive-editor/styles.css" />
    <link rel="stylesheet" href="../CSS-slides.css" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="authoring-app">
      <header class="toolbar" aria-label="Authoring toolbar">
        <div class="toolbar__group" role="group" aria-label="Insert blocks">
          <button type="button" class="toolbar__button" data-action="add-text">
            Add Text
          </button>
          <button type="button" class="toolbar__button" data-action="add-image">
            Add Image
          </button>
          <button type="button" class="toolbar__button" data-action="add-module">
            Add Module
          </button>
        </div>
        <div class="toolbar__group" role="group" aria-label="Workspace storage actions">
          <button type="button" class="toolbar__button" data-action="save-local">
            Save to Browser
          </button>
          <button type="button" class="toolbar__button" data-action="load-local">
            Load Saved
          </button>
          <button type="button" class="toolbar__button" data-action="export-json">
            Export JSON
          </button>
          <button type="button" class="toolbar__button" data-action="import-json">
            Import JSON
          </button>
          <input type="file" id="import-state-input" accept="application/json" hidden />
        </div>
        <div class="toolbar__group" role="group" aria-label="Activity templates">
          <label for="template-select" class="toolbar__label">Templates</label>
          <select id="template-select" class="toolbar__select">
            <option value="">Choose a template…</option>
          </select>
          <button type="button" class="toolbar__button" data-action="insert-template">
            Insert Template
          </button>
        </div>
        <div class="toolbar__hint">
          Drag blocks directly onto the current slide. Save frequently and export a JSON backup before sharing decks with your team.
        </div>
      </header>
      <div id="workspace-status" class="workspace-status" role="status" aria-live="polite"></div>
      <main class="authoring-main">
        <section class="authoring-stage">
          <div class="stage-counter" id="slide-counter" aria-live="polite">1 / 1</div>
          <div class="stage-wrapper">
            <div class="stage-viewport">
              <button class="slide-nav slide-nav-prev" type="button" aria-label="Previous slide">
                <i class="fa-solid fa-chevron-left" aria-hidden="true"></i>
              </button>
              <button class="slide-nav slide-nav-next" type="button" aria-label="Next slide">
                <i class="fa-solid fa-chevron-right" aria-hidden="true"></i>
              </button>
              <div class="slide-stage" data-slide-id="welcome" data-stage="Module" data-title="Welcome to Noor Community">
                <div class="slide-inner">
                  <div class="slide-inner-content">
                    <div class="badge"><i class="fa-solid fa-feather icon" aria-hidden="true"></i><span>Workshop</span></div>
                    <h1>Welcome to Noor Community</h1>
                    <p class="subtitle">Use the toolbar to add supporting activities and adapt this deck for your learners.</p>
                  </div>
                </div>
              </div>
              <div class="slide-stage hidden" data-slide-id="discussion" data-stage="Activity" data-title="Discussion prompts">
                <div class="slide-inner">
                  <div class="card card-full-height">
                    <h2>Discussion prompts</h2>
                    <p class="subtitle">Pair learners and capture their thinking inside draggable module blocks.</p>
                    <ul>
                      <li>What stands out to you from today&#39;s session?</li>
                      <li>How could you apply this idea with your group?</li>
                      <li>What support would make implementation easier?</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <section id="editor-canvas" class="canvas authoring-overlay" aria-label="Block workspace">
              <p class="canvas__placeholder">Use the toolbar to add your first block to this slide.</p>
            </section>
          </div>
          <aside class="authoring-note">
            <p>
              Need fresh imagery? Use the provided Pexels API key
              <code>ntFmvz0n4RpCRtHtRVV7HhAcbb4VQLwyEenPsqfIGdvpVvkgagK2dQEd</code>
              with the <a href="https://www.pexels.com/api/documentation/" target="_blank" rel="noopener noreferrer">Pexels API</a>
              to search for classroom-friendly assets. Paste remote URLs into an image block or module template — the workspace will hydrate them automatically.
            </p>
          </aside>
        </section>
      </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script type="module" src="./authoring.js"></script>
  </body>
</html>
