<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Minimal Deck Fixture</title>
  </head>
  <body>
    <div id="deck-status" role="status" aria-live="polite" aria-atomic="true"></div>
    <div id="deck-toast-root"></div>
    <div class="deck-app">
      <header class="deck-toolbar">
        <div class="toolbar-brand">
          <span>Noor Community</span>
        </div>
        <div id="slide-counter" class="slide-counter">1 / 2</div>
        <div class="toolbar-actions">
          <div class="highlight-controls">
            <select id="highlight-color">
              <option value="#F9E27D">Sunbeam</option>
            </select>
            <button id="highlight-btn" type="button">Apply</button>
            <button id="remove-highlight-btn" type="button">Clear</button>
          </div>
          <button id="add-slide-btn" type="button">Add Blank Slide</button>
          <button id="activity-builder-btn" type="button">Open Builder</button>
          <button id="save-state-btn" type="button">Save</button>
          <button id="load-state-btn" type="button">Load</button>
          <input id="load-state-input" type="file" />
        </div>
      </header>
      <main id="lesson-stage" class="deck-workspace">
        <div class="stage-viewport">
          <div class="slide-stage" data-type="lesson">
            <div class="slide-inner">
              <h2 class="editable-text">Welcome to the lesson</h2>
              <p class="editable-text">
                Use the navigation controls to move through the content.
              </p>
            </div>
          </div>
          <div class="slide-stage hidden" data-type="lesson">
            <div class="slide-inner">
              <p class="editable-text">Second slide content</p>
            </div>
          </div>
          <button class="slide-nav slide-nav-prev" type="button" aria-label="Previous Slide">
            Prev
          </button>
          <button class="slide-nav slide-nav-next" type="button" aria-label="Next Slide">
            Next
          </button>
        </div>
      </main>
    </div>

    
<div
  id="activity-builder-overlay"
  class="builder-overlay"
  aria-hidden="true"
  hidden
>
  <div class="builder-dialog" role="dialog" aria-modal="true" aria-labelledby="builder-title">
    <header class="builder-header">
      <div>
        <p class="builder-eyebrow">Slide library</p>
        <h2 id="builder-title">Create a lesson slide</h2>
        <p class="builder-subtitle">
          Start from a blank canvas or generate slides for language input, practice, and reflection.
        </p>
      </div>
      <button type="button" class="builder-close" aria-label="Close slide builder">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </header>
    <form id="activity-builder-form" class="builder-form">
      <div class="builder-grid">
        <fieldset
          class="builder-field builder-field--full layout-picker"
          data-layouts="blank-canvas,learning-objectives,model-dialogue,interactive-practice,communicative-task,pronunciation-focus,reflection"
        >
          <legend class="builder-field-label">Choose a layout</legend>
          <div class="layout-picker-grid">
            <label class="layout-option" title="Start with an empty slide and build everything yourself.">
              <input type="radio" name="slideLayout" value="blank-canvas" checked />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-border-all"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Blank canvas</span>
                  <span class="layout-option-desc">Add your own text boxes, drawings, and pasted media.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Present the learning focus and communicative outcome.">
              <input type="radio" name="slideLayout" value="learning-objectives" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-bullseye"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Learning objectives</span>
                  <span class="layout-option-desc">Highlight lesson goals and the real-world application.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Show a short model text or dialogue.">
              <input type="radio" name="slideLayout" value="model-dialogue" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-comments"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Model dialogue / text</span>
                  <span class="layout-option-desc">Introduce the target language through a contextualised exchange.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Build a controlled practice task with prompts and answers.">
              <input type="radio" name="slideLayout" value="interactive-practice" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-list-check"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Interactive practice</span>
                  <span class="layout-option-desc">Collect prompts, answer options, and solutions for quick checks.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Prepare learners for a freer speaking task.">
              <input type="radio" name="slideLayout" value="communicative-task" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-people-arrows"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Communicative task</span>
                  <span class="layout-option-desc">Outline the scenario, preparation notes, and language scaffolding.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Focus on a sound or intonation pattern from the lesson.">
              <input type="radio" name="slideLayout" value="pronunciation-focus" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-wave-square"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Pronunciation focus</span>
                  <span class="layout-option-desc">Capture target sounds, example words, and practice tips.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Close the lesson with reflection prompts.">
              <input type="radio" name="slideLayout" value="reflection" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-lightbulb"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Reflection</span>
                  <span class="layout-option-desc">Guide learners to note what they learned and who they connected with.</span>
                </span>
              </span>
            </label>
          </div>
        </fieldset>

        <section class="builder-section" data-layouts="learning-objectives">
          <header class="builder-section-header">
            <div>
              <h3>Learning objectives</h3>
              <p>List the skills learners will practise and the communicative outcome.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="learningTitle" placeholder="Learning Outcomes" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Goal 1</span>
            <input type="text" name="learningGoalOne" placeholder="We will…" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Goal 2</span>
            <input type="text" name="learningGoalTwo" placeholder="We will…" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Goal 3</span>
            <input type="text" name="learningGoalThree" placeholder="Optional extra focus" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Communicative goal</span>
            <textarea
              name="learningCommunicativeGoal"
              rows="2"
              placeholder="So you can…"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Background image URL</span>
            <input type="url" name="learningImageUrl" placeholder="Paste an image link" />
          </label>
        </section>

        <section class="builder-section" data-layouts="model-dialogue">
          <header class="builder-section-header">
            <div>
              <h3>Model dialogue / text</h3>
              <p>Provide context, dialogue turns, and optional media.</p>
            </div>
            <button type="button" class="ghost-btn" id="builder-add-dialogue">
              <i class="fa-solid fa-plus"></i>
              Add turn
            </button>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="dialogueTitle" placeholder="e.g. Get to know people" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Student instructions</span>
            <textarea
              name="dialogueInstructions"
              rows="2"
              placeholder="Explain how learners should use the text"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Image URL</span>
            <input type="url" name="dialogueImageUrl" placeholder="Paste an image link" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Audio URL (optional)</span>
            <input type="url" name="dialogueAudioUrl" placeholder="Link to audio recording" />
          </label>
          <ul id="builder-dialogue-list" class="builder-dynamic-list" aria-live="polite"></ul>
        </section>

        <section class="builder-section" data-layouts="interactive-practice">
          <header class="builder-section-header">
            <div>
              <h3>Interactive practice</h3>
              <p>Collect prompts, answer options, and the correct response.</p>
            </div>
            <button type="button" class="ghost-btn" id="builder-add-practice">
              <i class="fa-solid fa-plus"></i>
              Add prompt
            </button>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="practiceTitle" placeholder="Practice" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Instructions</span>
            <textarea
              name="practiceInstructions"
              rows="2"
              placeholder="Tell learners how to complete the task"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Activity type</span>
            <input type="text" name="practiceActivityType" placeholder="e.g. Multiple choice" />
          </label>
          <ul id="builder-practice-list" class="builder-dynamic-list" aria-live="polite"></ul>
        </section>

        <section class="builder-section" data-layouts="communicative-task">
          <header class="builder-section-header">
            <div>
              <h3>Communicative task</h3>
              <p>Describe the scenario, preparation, and performance phase.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Task title</span>
            <input type="text" name="taskTitle" placeholder="e.g. Language exchange introductions" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Image URL</span>
            <input type="url" name="taskImageUrl" placeholder="Paste an image link" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Preparation phase</span>
            <textarea
              name="taskPreparation"
              rows="3"
              placeholder="Explain what learners do before speaking"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Performance phase</span>
            <textarea
              name="taskPerformance"
              rows="3"
              placeholder="Describe how learners will carry out the task"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Scaffolding language (one per line)</span>
            <textarea
              name="taskScaffolding"
              rows="3"
              placeholder="Key phrases or question stems"
            ></textarea>
          </label>
        </section>

        <section class="builder-section" data-layouts="pronunciation-focus">
          <header class="builder-section-header">
            <div>
              <h3>Pronunciation focus</h3>
              <p>Capture the target sound, sample words, and practice guidance.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="pronunciationTitle" placeholder="e.g. What does /st/ sound like?" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Target sound or feature</span>
            <input type="text" name="pronunciationTarget" placeholder="Describe the focus" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Example word 1</span>
            <input type="text" name="pronunciationWordOne" placeholder="e.g. student" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Example word 2</span>
            <input type="text" name="pronunciationWordTwo" placeholder="e.g. study" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Example sentence 1</span>
            <input type="text" name="pronunciationSentenceOne" placeholder="Include arrows or stress marks" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Example sentence 2</span>
            <input type="text" name="pronunciationSentenceTwo" placeholder="Include arrows or stress marks" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Practice instructions</span>
            <textarea
              name="pronunciationPractice"
              rows="3"
              placeholder="How will you coach and personalise the sound?"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Image URL</span>
            <input type="url" name="pronunciationImageUrl" placeholder="Paste an image link" />
          </label>
        </section>

        <section class="builder-section" data-layouts="reflection">
          <header class="builder-section-header">
            <div>
              <h3>Reflection prompts</h3>
              <p>Give learners space to capture memorable people, places, or language.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="reflectionTitle" placeholder="e.g. Reflection" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Prompt 1</span>
            <input type="text" name="reflectionPromptOne" placeholder="e.g. A classmate’s name" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Prompt 2</span>
            <input type="text" name="reflectionPromptTwo" placeholder="e.g. A place in Palestine" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Prompt 3</span>
            <input type="text" name="reflectionPromptThree" placeholder="e.g. A job" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Background image URL</span>
            <input type="url" name="reflectionImageUrl" placeholder="Paste an image link" />
          </label>
        </section>

        <section
          class="builder-section"
          data-layouts="learning-objectives,model-dialogue,communicative-task,pronunciation-focus,reflection"
        >
          <header class="builder-section-header">
            <div>
              <h3>Image search</h3>
              <p>Search Pexels and apply the image to the selected layout.</p>
            </div>
          </header>
          <div class="image-search">
            <div class="image-search-controls">
              <input type="text" name="imageSearch" placeholder="Search Pexels" />
              <button type="button" class="ghost-btn" data-action="search-image">
                <i class="fa-solid fa-magnifying-glass"></i>
                Search
              </button>
            </div>
            <div
              class="image-search-results"
              id="builder-image-results"
              role="listbox"
              aria-label="Image search results"
            ></div>
            <p class="image-search-status" id="image-search-status" aria-live="polite"></p>
          </div>
        </section>

        <section class="builder-section builder-preview-section">
          <header class="builder-section-header">
            <div>
              <h3>Slide preview</h3>
              <p>Updates automatically as you edit the fields.</p>
            </div>
            <button type="button" class="ghost-btn" id="builder-refresh-preview">
              <i class="fa-solid fa-arrows-rotate"></i>
              Refresh preview
            </button>
          </header>
          <div id="builder-preview" class="builder-preview" aria-live="polite"></div>
        </section>

        <section class="builder-section">
          <header class="builder-section-header">
            <div>
              <h3>Builder JSON</h3>
              <p>Preview the data that will generate the slide.</p>
            </div>
          </header>
          <pre id="builder-json-preview" class="builder-json-preview" aria-live="polite">{}</pre>
        </section>

        <footer class="builder-footer">
          <p id="builder-status" class="builder-status" aria-live="polite"></p>
          <div class="builder-actions">
            <button type="button" class="toolbar-btn ghost" data-action="cancel-builder">
              Cancel
            </button>
            <button type="submit" class="toolbar-btn">
              <i class="fa-solid fa-square-plus"></i>
              Insert slide
            </button>
          </div>
        </footer>
      </div>
    </form>
  </div>
</div>
    <div
      id="module-builder-overlay"
      class="builder-overlay module-builder-overlay"
      aria-hidden="true"
      hidden
    >
      <div
        class="builder-dialog module-builder-dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="module-builder-title"
      >
        <header class="builder-header module-builder-header">
          <div>
            <p class="builder-eyebrow">Sandbox tools</p>
            <h2 id="module-builder-title">Interactive Activity Modules</h2>
            <p class="builder-subtitle">
              Configure Noor templates and drop the activity onto your blank slide.
            </p>
          </div>
          <button
            type="button"
            class="builder-close module-builder-close"
            aria-label="Close module builder"
          >
            <i class="fa-solid fa-xmark"></i>
          </button>
        </header>
        <div class="module-builder-body">
          <iframe
            id="module-builder-frame"
            title="Activity module builder"
            src="about:blank"
            data-builder-src="./activity-builder.html"
            loading="lazy"
            tabindex="-1"
          ></iframe>
        </div>
      </div>
    </div>
  </body>
</html>
