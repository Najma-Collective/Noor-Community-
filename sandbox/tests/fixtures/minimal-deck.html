<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Minimal Deck Fixture</title>
  </head>
  <body>
    <div id="deck-status" role="status" aria-live="polite" aria-atomic="true"></div>
    <div id="deck-toast-root"></div>
    <div class="deck-app">
      <header class="deck-toolbar">
        <div class="toolbar-brand">
          <span>Noor Community</span>
        </div>
        <div id="slide-counter" class="slide-counter">1 / 2</div>
        <div class="toolbar-actions">
          <button id="add-slide-btn" type="button">Add Blank Slide</button>
          <button id="activity-builder-btn" type="button">Open Builder</button>
          <button id="save-state-btn" type="button">Save</button>
          <button id="load-state-btn" type="button">Load</button>
          <input id="load-state-input" type="file" />
          <div class="toolbar-menu" data-role="canvas-tools">
            <button
              id="canvas-tools-toggle"
              class="toolbar-btn has-caret"
              type="button"
              aria-haspopup="true"
              aria-expanded="false"
              aria-controls="canvas-tools-menu"
              disabled
            >
              Canvas Tools
              <span class="toolbar-caret" aria-hidden="true"></span>
            </button>
            <div
              id="canvas-tools-menu"
              class="toolbar-dropdown"
              role="menu"
              aria-label="Canvas tools"
              hidden
            >
              <div class="toolbar-dropdown-inner" data-role="canvas-tools-options"></div>
            </div>
          </div>
        </div>
      </header>
      <main id="lesson-stage" class="deck-workspace">
        <div class="stage-viewport">
          <div class="slide-stage" data-type="lesson">
            <div class="slide-inner">
              <h2 class="editable-text">Welcome to the lesson</h2>
              <p class="editable-text">
                Use the navigation controls to move through the content.
              </p>
            </div>
          </div>
          <div class="slide-stage hidden" data-type="lesson">
            <div class="slide-inner">
              <p class="editable-text">Second slide content</p>
            </div>
          </div>
          <button class="slide-nav slide-nav-prev" type="button" aria-label="Previous Slide">
            Prev
          </button>
          <button class="slide-nav slide-nav-next" type="button" aria-label="Next Slide">
            Next
          </button>
        </div>
      </main>
    </div>

    
<div
  id="activity-builder-overlay"
  class="builder-overlay"
  aria-hidden="true"
  hidden
>
  <div class="builder-dialog" role="dialog" aria-modal="true" aria-labelledby="builder-title">
    <header class="builder-header">
      <div>
        <p class="builder-eyebrow">Slide library</p>
        <h2 id="builder-title">Create a lesson slide</h2>
        <p class="builder-subtitle">
          Start from a blank canvas or generate slides for language input, practice, and reflection.
        </p>
      </div>
      <button type="button" class="builder-close" aria-label="Close slide builder">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </header>
    <form id="activity-builder-form" class="builder-form">
      <div class="builder-grid">
        <fieldset
          class="builder-field builder-field--full layout-picker"
          data-layouts="blank-canvas,learning-objectives,model-dialogue,interactive-practice,communicative-task,pronunciation-focus,reflection"
        >
          <legend class="builder-field-label">Choose a layout</legend>
          <div class="layout-picker-grid">
            <label class="layout-option" title="Start with an empty slide and build everything yourself.">
              <input type="radio" name="slideLayout" value="blank-canvas" checked />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-border-all"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Blank canvas</span>
                  <span class="layout-option-desc">Add your own text boxes, drawings, and pasted media.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Lead a brief settling or mindfulness routine.">
              <input type="radio" name="slideLayout" value="grounding-activity" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-leaf"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Grounding activity</span>
                  <span class="layout-option-desc">Script a calm arrival routine with simple prompts.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Introduce the big idea, hook, and vocabulary for the lesson.">
              <input type="radio" name="slideLayout" value="topic-introduction" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-lightbulb"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Topic introduction</span>
                  <span class="layout-option-desc">Frame the theme, essential question, and key vocabulary.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Present the learning focus and communicative outcome.">
              <input type="radio" name="slideLayout" value="learning-objectives" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-bullseye"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Learning objectives</span>
                  <span class="layout-option-desc">Highlight lesson goals and the real-world application.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Show a short model text or dialogue.">
              <input type="radio" name="slideLayout" value="model-dialogue" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-comments"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Model dialogue / text</span>
                  <span class="layout-option-desc">Introduce the target language through a contextualised exchange.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Guide learners to notice patterns in the input.">
              <input type="radio" name="slideLayout" value="guided-discovery" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-magnifying-glass"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Guided discovery</span>
                  <span class="layout-option-desc">Sequence noticing prompts, questions, and sample language.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Break down the genre features in a mentor text.">
              <input type="radio" name="slideLayout" value="genre-deconstruction" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-book-open"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Genre deconstruction</span>
                  <span class="layout-option-desc">Summarise the purpose, key moves, and mentor text excerpt.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Create a feature hunt for a short text.">
              <input type="radio" name="slideLayout" value="linguistic-feature-hunt" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-highlighter"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Feature hunt</span>
                  <span class="layout-option-desc">Share the extract, what to highlight, and reflection prompts.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Offer sentence strips and steps to rebuild a text.">
              <input type="radio" name="slideLayout" value="text-reconstruction" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-puzzle-piece"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Text reconstruction</span>
                  <span class="layout-option-desc">List the routine and the strips learners will order.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Sequence a jumbled set of statements or ideas.">
              <input type="radio" name="slideLayout" value="jumbled-text-sequencing" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-shuffle"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Jumbled sequencing</span>
                  <span class="layout-option-desc">Provide the segments and tips that support ordering.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Build a controlled practice task with prompts and answers.">
              <input type="radio" name="slideLayout" value="interactive-practice" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-list-check"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Interactive practice</span>
                  <span class="layout-option-desc">Collect prompts, answer options, and solutions for quick checks.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Plan a collaborative making task that uses new language.">
              <input type="radio" name="slideLayout" value="creative-practice" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-paintbrush"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Creative practice</span>
                  <span class="layout-option-desc">Capture materials, making steps, and sharing options.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Prepare learners for a freer speaking task.">
              <input type="radio" name="slideLayout" value="communicative-task" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-people-arrows"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Communicative task</span>
                  <span class="layout-option-desc">Outline the scenario, preparation notes, and language scaffolding.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Insert a divider that names the next task phase.">
              <input type="radio" name="slideLayout" value="task-divider" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-flag-checkered"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Task divider</span>
                  <span class="layout-option-desc">Signal timing, focus, and quick actions before moving on.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Coordinate share-out roles after a communicative task.">
              <input type="radio" name="slideLayout" value="task-reporting" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-bullhorn"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Task reporting</span>
                  <span class="layout-option-desc">Outline prompts, evidence to gather, and facilitator roles.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Plan a joint construction with teacher and learner moves.">
              <input type="radio" name="slideLayout" value="scaffolded-joint-construction" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-people-group"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Joint construction</span>
                  <span class="layout-option-desc">Map mentor text focus, shared outcome, and move sequences.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Support independent writing with a checklist.">
              <input type="radio" name="slideLayout" value="independent-construction-checklist" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-clipboard-check"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Independent checklist</span>
                  <span class="layout-option-desc">List success criteria and stretch goals for individual drafts.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Focus on a sound or intonation pattern from the lesson.">
              <input type="radio" name="slideLayout" value="pronunciation-focus" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-wave-square"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Pronunciation focus</span>
                  <span class="layout-option-desc">Capture target sounds, example words, and practice tips.</span>
                </span>
              </span>
            </label>
            <label class="layout-option" title="Close the lesson with reflection prompts.">
              <input type="radio" name="slideLayout" value="reflection" />
              <span class="layout-option-body">
                <span class="layout-option-icon" aria-hidden="true">
                  <i class="fa-solid fa-moon"></i>
                </span>
                <span class="layout-option-copy">
                  <span class="layout-option-title">Reflection</span>
                  <span class="layout-option-desc">Guide learners to note what they learned and who they connected with.</span>
                </span>
              </span>
            </label>
          </div>
        </fieldset>

        <section class="builder-section" data-layouts="grounding-activity">
          <header class="builder-section-header">
            <div>
              <h3>Grounding activity</h3>
              <p>Script the settling routine learners follow as class begins.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="groundingTitle" placeholder="Grounding activity" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Subtitle</span>
            <input type="text" name="groundingSubtitle" placeholder="e.g. Arrive in the room" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Guided steps (one per line)</span>
            <textarea
              name="groundingSteps"
              rows="4"
              placeholder="Breathe in for four counts..."
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="groundingBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="groundingOverlayColor" value="#10352c" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="groundingOverlayOpacity" min="0" max="90" step="5" value="45" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="topic-introduction">
          <header class="builder-section-header">
            <div>
              <h3>Topic introduction</h3>
              <p>Frame the theme, hook, and key vocabulary for the lesson.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="topicTitle" placeholder="Today we explore" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Hook / opener</span>
            <textarea
              name="topicHook"
              rows="2"
              placeholder="Pose a provocative question or statement"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Context</span>
            <textarea
              name="topicContext"
              rows="2"
              placeholder="Connect to learners' lived experiences"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Essential question</span>
            <input type="text" name="topicQuestion" placeholder="How can...?" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Key vocabulary (one per line)</span>
            <textarea
              name="topicKeyVocabulary"
              rows="3"
              placeholder="sustainable"
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="topicBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="topicOverlayColor" value="#152a41" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="topicOverlayOpacity" min="0" max="90" step="5" value="40" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="learning-objectives">
          <header class="builder-section-header">
            <div>
              <h3>Learning objectives</h3>
              <p>List the skills learners will practise and the communicative outcome.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="learningTitle" placeholder="Learning Outcomes" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Goal 1</span>
            <input type="text" name="learningGoalOne" placeholder="We will…" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Goal 2</span>
            <input type="text" name="learningGoalTwo" placeholder="We will…" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Goal 3</span>
            <input type="text" name="learningGoalThree" placeholder="Optional extra focus" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Communicative goal</span>
            <textarea
              name="learningCommunicativeGoal"
              rows="2"
              placeholder="So you can…"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Background image URL</span>
            <input type="url" name="learningImageUrl" placeholder="Paste an image link" />
          </label>
        </section>

        <section class="builder-section" data-layouts="model-dialogue">
          <header class="builder-section-header">
            <div>
              <h3>Model dialogue / text</h3>
              <p>Provide context, dialogue turns, and optional media.</p>
            </div>
            <button type="button" class="ghost-btn" id="builder-add-dialogue">
              <i class="fa-solid fa-plus"></i>
              Add turn
            </button>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="dialogueTitle" placeholder="e.g. Get to know people" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Student instructions</span>
            <textarea
              name="dialogueInstructions"
              rows="2"
              placeholder="Explain how learners should use the text"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Image URL</span>
            <input type="url" name="dialogueImageUrl" placeholder="Paste an image link" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Audio URL (optional)</span>
            <input type="url" name="dialogueAudioUrl" placeholder="Link to audio recording" />
          </label>
          <ul id="builder-dialogue-list" class="builder-dynamic-list" aria-live="polite"></ul>
        </section>

        <section class="builder-section" data-layouts="guided-discovery">
          <header class="builder-section-header">
            <div>
              <h3>Guided discovery</h3>
              <p>Sequence noticing prompts and sample language for the input.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="discoveryTitle" placeholder="Guided discovery" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Context</span>
            <textarea
              name="discoveryContext"
              rows="2"
              placeholder="Explain what text or scenario learners will analyse"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Discovery prompts (one per line)</span>
            <textarea
              name="discoveryPrompts"
              rows="3"
              placeholder="Read the exchange twice..."
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Noticing questions</span>
            <textarea
              name="discoveryNoticingQuestions"
              rows="3"
              placeholder="What tense do you notice...?"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Sample language (one per line)</span>
            <textarea
              name="discoveryLanguageSamples"
              rows="3"
              placeholder="They suggested..."
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="discoveryBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="discoveryOverlayColor" value="#2b293f" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="discoveryOverlayOpacity" min="0" max="90" step="5" value="35" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="genre-deconstruction">
          <header class="builder-section-header">
            <div>
              <h3>Genre deconstruction</h3>
              <p>Capture the purpose, key moves, and a mentor text excerpt.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="genreTitle" placeholder="Genre deconstruction" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Genre type</span>
            <input type="text" name="genreType" placeholder="e.g. Proposal email" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Purpose</span>
            <textarea
              name="genrePurpose"
              rows="2"
              placeholder="Why do writers use this text type?"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Key moves (Feature | Description)</span>
            <textarea
              name="genreFeatures"
              rows="3"
              placeholder="Opening move | Warm greeting plus appreciation"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Mentor text excerpt</span>
            <textarea
              name="genreMentorText"
              rows="4"
              placeholder="Paste a short excerpt learners will analyse"
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="genreBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="genreOverlayColor" value="#3b2b2a" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="genreOverlayOpacity" min="0" max="90" step="5" value="30" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="linguistic-feature-hunt">
          <header class="builder-section-header">
            <div>
              <h3>Feature hunt</h3>
              <p>Share the extract and what learners should highlight.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="featureTitle" placeholder="Feature hunt" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Source text</span>
            <textarea
              name="featureSourceText"
              rows="3"
              placeholder="When we evaluate proposals..."
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Features to highlight</span>
            <textarea
              name="featureTargets"
              rows="3"
              placeholder="Underline hedging phrases"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Reflection prompts</span>
            <textarea
              name="featureReflection"
              rows="2"
              placeholder="Which feature appears most often?"
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="featureBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="featureOverlayColor" value="#1f2d28" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="featureOverlayOpacity" min="0" max="90" step="5" value="25" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="text-reconstruction">
          <header class="builder-section-header">
            <div>
              <h3>Text reconstruction</h3>
              <p>List the steps and sentence strips learners will reorder.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="reconstructionTitle" placeholder="Text reconstruction" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Context</span>
            <textarea
              name="reconstructionContext"
              rows="2"
              placeholder="Explain what learners are rebuilding"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Steps (one per line)</span>
            <textarea
              name="reconstructionSteps"
              rows="3"
              placeholder="Read each strip aloud..."
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Sentence strips</span>
            <textarea
              name="reconstructionSegments"
              rows="4"
              placeholder="First, introduce the challenge..."
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="reconstructionBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="reconstructionOverlayColor" value="#263141" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="reconstructionOverlayOpacity" min="0" max="90" step="5" value="35" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="jumbled-text-sequencing">
          <header class="builder-section-header">
            <div>
              <h3>Jumbled sequencing</h3>
              <p>List the mixed-up sentences and supportive hints.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="sequencingTitle" placeholder="Sequence the text" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Instructions</span>
            <textarea
              name="sequencingInstructions"
              rows="2"
              placeholder="Explain how learners will reorder the statements"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Segments (one per line)</span>
            <textarea
              name="sequencingSegments"
              rows="4"
              placeholder="The youth group surveyed families..."
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Support tips</span>
            <textarea
              name="sequencingSupportTips"
              rows="3"
              placeholder="Look for time connectives..."
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="sequencingBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="sequencingOverlayColor" value="#2f233c" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="sequencingOverlayOpacity" min="0" max="90" step="5" value="30" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="interactive-practice">
          <header class="builder-section-header">
            <div>
              <h3>Interactive practice</h3>
              <p>Collect prompts, answer options, and the correct response.</p>
            </div>
            <button type="button" class="ghost-btn" id="builder-add-practice">
              <i class="fa-solid fa-plus"></i>
              Add prompt
            </button>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="practiceTitle" placeholder="Practice" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Instructions</span>
            <textarea
              name="practiceInstructions"
              rows="2"
              placeholder="Tell learners how to complete the task"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Activity type</span>
            <input type="text" name="practiceActivityType" placeholder="e.g. Multiple choice" />
          </label>
          <ul id="builder-practice-list" class="builder-dynamic-list" aria-live="polite"></ul>
        </section>

        <section class="builder-section" data-layouts="creative-practice">
          <header class="builder-section-header">
            <div>
              <h3>Creative practice</h3>
              <p>Plan a collaborative making task that leverages new language.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="creativeTitle" placeholder="Creative practice" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Brief</span>
            <textarea
              name="creativeBrief"
              rows="2"
              placeholder="Teams design a solution prototype..."
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Materials (one per line)</span>
            <textarea
              name="creativeMaterials"
              rows="3"
              placeholder="Large paper"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Making steps</span>
            <textarea
              name="creativeMakingSteps"
              rows="3"
              placeholder="Sketch your idea..."
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Sharing options</span>
            <textarea
              name="creativeSharingOptions"
              rows="3"
              placeholder="Gallery walk..."
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="creativeBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="creativeOverlayColor" value="#4b1f2c" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="creativeOverlayOpacity" min="0" max="90" step="5" value="35" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="communicative-task">
          <header class="builder-section-header">
            <div>
              <h3>Communicative task</h3>
              <p>Describe the scenario, preparation, and performance phase.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Task title</span>
            <input type="text" name="taskTitle" placeholder="e.g. Language exchange introductions" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Image URL</span>
            <input type="url" name="taskImageUrl" placeholder="Paste an image link" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Preparation phase</span>
            <textarea
              name="taskPreparation"
              rows="3"
              placeholder="Explain what learners do before speaking"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Performance phase</span>
            <textarea
              name="taskPerformance"
              rows="3"
              placeholder="Describe how learners will carry out the task"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Scaffolding language (one per line)</span>
            <textarea
              name="taskScaffolding"
              rows="3"
              placeholder="Key phrases or question stems"
            ></textarea>
          </label>
        </section>

        <section class="builder-section" data-layouts="task-divider">
          <header class="builder-section-header">
            <div>
              <h3>Task divider</h3>
              <p>Signal the next phase with timing, focus, and quick actions.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="dividerTitle" placeholder="Task cycle" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Subtitle</span>
            <input type="text" name="dividerSubtitle" placeholder="e.g. Before you speak" />
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Timing</span>
              <input type="text" name="dividerTiming" placeholder="e.g. 5 minutes" />
            </label>
            <label class="builder-field builder-field--full">
              <span class="builder-field-label">Focus</span>
              <textarea
                name="dividerFocus"
                rows="2"
                placeholder="Plan the approach with your partner"
              ></textarea>
            </label>
          </div>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Actions (one per line)</span>
            <textarea
              name="dividerActions"
              rows="3"
              placeholder="Skim the prompt together..."
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="dividerBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="dividerOverlayColor" value="#1f2d3a" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="dividerOverlayOpacity" min="0" max="90" step="5" value="30" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="task-reporting">
          <header class="builder-section-header">
            <div>
              <h3>Task reporting</h3>
              <p>Coordinate share-out prompts, evidence, and group roles.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="reportingTitle" placeholder="Task reporting" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Share-out goal</span>
            <textarea
              name="reportingGoal"
              rows="2"
              placeholder="Share highlights from your conversations"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Prompts (one per line)</span>
            <textarea
              name="reportingPrompts"
              rows="3"
              placeholder="What solution did your partner propose?"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Roles (Role | Action)</span>
            <textarea
              name="reportingRoles"
              rows="3"
              placeholder="Facilitator | Keep the share-out moving"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Evidence to capture</span>
            <textarea
              name="reportingEvidence"
              rows="2"
              placeholder="Summaries on sticky notes"
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="reportingBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="reportingOverlayColor" value="#2a3b2c" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="reportingOverlayOpacity" min="0" max="90" step="5" value="30" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="scaffolded-joint-construction">
          <header class="builder-section-header">
            <div>
              <h3>Joint construction</h3>
              <p>Map the mentor focus, shared outcome, and teacher/learner moves.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="jointTitle" placeholder="Scaffolded joint construction" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Mentor text focus</span>
            <textarea
              name="jointMentor"
              rows="2"
              placeholder="Mentor text: project proposal introduction"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Shared outcome</span>
            <textarea
              name="jointSharedOutcome"
              rows="2"
              placeholder="Draft the opening paragraph together"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Teacher moves</span>
            <textarea
              name="jointTeacherMoves"
              rows="3"
              placeholder="Think aloud to model planning"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Learner moves</span>
            <textarea
              name="jointLearnerMoves"
              rows="3"
              placeholder="Offer phrases that mirror the mentor text"
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="jointBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="jointOverlayColor" value="#213329" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="jointOverlayOpacity" min="0" max="90" step="5" value="30" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="independent-construction-checklist">
          <header class="builder-section-header">
            <div>
              <h3>Independent checklist</h3>
              <p>List success criteria and stretch goals for individual drafts.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="checklistTitle" placeholder="Independent construction" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Reminder</span>
            <textarea
              name="checklistReminder"
              rows="2"
              placeholder="Use the checklist while drafting your text"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Checklist items (one per line)</span>
            <textarea
              name="checklistItems"
              rows="3"
              placeholder="State the community challenge clearly"
            ></textarea>
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Stretch goals (one per line)</span>
            <textarea
              name="checklistStretch"
              rows="2"
              placeholder="Add a compelling statistic"
            ></textarea>
          </label>
          <div class="builder-field-grid">
            <label class="builder-field">
              <span class="builder-field-label">Background image URL</span>
              <input type="url" name="checklistBackgroundImage" placeholder="Paste an image link" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay colour</span>
              <input type="color" name="checklistOverlayColor" value="#2a2f27" />
            </label>
            <label class="builder-field">
              <span class="builder-field-label">Overlay opacity</span>
              <input type="range" name="checklistOverlayOpacity" min="0" max="90" step="5" value="25" />
              <span class="builder-field-hint">0 = transparent, 90 = strongest overlay</span>
            </label>
          </div>
        </section>

        <section class="builder-section" data-layouts="pronunciation-focus">
          <header class="builder-section-header">
            <div>
              <h3>Pronunciation focus</h3>
              <p>Capture the target sound, sample words, and practice guidance.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="pronunciationTitle" placeholder="e.g. What does /st/ sound like?" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Target sound or feature</span>
            <input type="text" name="pronunciationTarget" placeholder="Describe the focus" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Example word 1</span>
            <input type="text" name="pronunciationWordOne" placeholder="e.g. student" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Example word 2</span>
            <input type="text" name="pronunciationWordTwo" placeholder="e.g. study" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Example sentence 1</span>
            <input type="text" name="pronunciationSentenceOne" placeholder="Include arrows or stress marks" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Example sentence 2</span>
            <input type="text" name="pronunciationSentenceTwo" placeholder="Include arrows or stress marks" />
          </label>
          <label class="builder-field builder-field--full">
            <span class="builder-field-label">Practice instructions</span>
            <textarea
              name="pronunciationPractice"
              rows="3"
              placeholder="How will you coach and personalise the sound?"
            ></textarea>
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Image URL</span>
            <input type="url" name="pronunciationImageUrl" placeholder="Paste an image link" />
          </label>
        </section>

        <section class="builder-section" data-layouts="reflection">
          <header class="builder-section-header">
            <div>
              <h3>Reflection prompts</h3>
              <p>Give learners space to capture memorable people, places, or language.</p>
            </div>
          </header>
          <label class="builder-field">
            <span class="builder-field-label">Slide title</span>
            <input type="text" name="reflectionTitle" placeholder="e.g. Reflection" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Prompt 1</span>
            <input type="text" name="reflectionPromptOne" placeholder="e.g. A classmate’s name" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Prompt 2</span>
            <input type="text" name="reflectionPromptTwo" placeholder="e.g. A place in Palestine" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Prompt 3</span>
            <input type="text" name="reflectionPromptThree" placeholder="e.g. A job" />
          </label>
          <label class="builder-field">
            <span class="builder-field-label">Background image URL</span>
            <input type="url" name="reflectionImageUrl" placeholder="Paste an image link" />
          </label>
        </section>

        <section
          class="builder-section"
          data-layouts="learning-objectives,model-dialogue,grounding-activity,topic-introduction,guided-discovery,creative-practice,communicative-task,task-divider,task-reporting,genre-deconstruction,linguistic-feature-hunt,text-reconstruction,jumbled-text-sequencing,scaffolded-joint-construction,independent-construction-checklist,pronunciation-focus,reflection"
        >
          <header class="builder-section-header">
            <div>
              <h3>Image search</h3>
              <p>Search Pexels and apply the image to the selected layout.</p>
            </div>
          </header>
          <div class="image-search">
            <div class="image-search-controls">
              <input type="text" name="imageSearch" placeholder="Search Pexels" />
              <button type="button" class="ghost-btn" data-action="search-image">
                <i class="fa-solid fa-magnifying-glass"></i>
                Search
              </button>
            </div>
            <div
              class="image-search-results"
              id="builder-image-results"
              role="listbox"
              aria-label="Image search results"
            ></div>
            <p class="image-search-status" id="image-search-status" aria-live="polite"></p>
          </div>
        </section>

        <section class="builder-section builder-preview-section">
          <header class="builder-section-header">
            <div>
              <h3>Slide preview</h3>
              <p>Updates automatically as you edit the fields.</p>
            </div>
            <button type="button" class="ghost-btn" id="builder-refresh-preview">
              <i class="fa-solid fa-arrows-rotate"></i>
              Refresh preview
            </button>
          </header>
          <div id="builder-preview" class="builder-preview" aria-live="polite"></div>
        </section>

        <section class="builder-section">
          <header class="builder-section-header">
            <div>
              <h3>Builder JSON</h3>
              <p>Preview the data that will generate the slide.</p>
            </div>
          </header>
          <pre id="builder-json-preview" class="builder-json-preview" aria-live="polite">{}</pre>
        </section>

        <footer class="builder-footer">
          <p id="builder-status" class="builder-status" aria-live="polite"></p>
          <div class="builder-actions">
            <button type="button" class="toolbar-btn ghost" data-action="cancel-builder">
              Cancel
            </button>
            <button type="submit" class="toolbar-btn">
              <i class="fa-solid fa-square-plus"></i>
              Insert slide
            </button>
          </div>
        </footer>
      </div>
    </form>
  </div>
</div>
    <div
      id="module-builder-overlay"
      class="builder-overlay module-builder-overlay"
      aria-hidden="true"
      hidden
    >
      <div
        class="builder-dialog module-builder-dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="module-builder-title"
      >
        <header class="builder-header module-builder-header">
          <div>
            <p class="builder-eyebrow">Sandbox tools</p>
            <h2 id="module-builder-title">Interactive Activity Modules</h2>
            <p class="builder-subtitle">
              Configure Noor templates and drop the activity onto your blank slide.
            </p>
          </div>
          <button
            type="button"
            class="builder-close module-builder-close"
            aria-label="Close module builder"
          >
            <i class="fa-solid fa-xmark"></i>
          </button>
        </header>
        <div class="module-builder-body">
          <iframe
            id="module-builder-frame"
            title="Activity module builder"
            src="about:blank"
            data-builder-src="./activity-builder.html"
            loading="lazy"
            tabindex="-1"
          ></iframe>
        </div>
      </div>
    </div>
  </body>
</html>
