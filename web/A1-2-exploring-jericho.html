<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1.2: Exploring Jericho - The Lowest City</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Questrial&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        :root {
          --primary-sage: #7a8471;
          --secondary-sage: #9caf88;
          --tertiary-sage: #b8c5a6;
          --warm-cream: #f8f6f0;
          --soft-white: #fefcf7;
          --forest-shadow: #5a6b52;
          --ink: #2f3a2b;
          --ink-muted: #5a6b52;
          --border-sage: rgba(122, 132, 113, 0.2);
          --hover-sage: rgba(156, 175, 136, 0.15);
          --deep-forest: #3e4a3a;
          --font-display: "Questrial", system-ui, sans-serif;
          --font-body: "Nunito", system-ui, sans-serif;
          --step--1: clamp(0.875rem, 0.82rem + 0.18vw, 0.95rem);
          --step-0:  clamp(1rem, 0.94rem + 0.28vw, 1.1rem);
          --step-1:  clamp(1.125rem, 1.04rem + 0.42vw, 1.32rem);
          --step-2:  clamp(1.35rem, 1.18rem + 0.68vw, 1.65rem);
          --step-3:  clamp(1.75rem, 1.42rem + 1.1vw, 2.1rem);
          --step-4:  clamp(2.25rem, 1.8rem + 1.65vw, 2.75rem);
          --space-2: 0.5rem;
          --space-3: 0.75rem;
          --space-4: 1rem;
          --space-5: 1.25rem;
          --space-6: 1.5rem;
          --space-7: 2rem;
          --radius-sm: 10px;
          --radius: 16px;
          --shadow-1: 0 1px 2px rgba(34, 41, 32, 0.05), 0 2px 8px rgba(34, 41, 32, 0.06);
          --transition-std: 250ms cubic-bezier(.2,.8,.2,1);
          --container-max: clamp(320px, 92vw, 940px);
          --container-padding: clamp(1.25rem, 5vw, 2rem);
        }

        *, *::before, *::after { box-sizing: border-box; }
        body { margin: 0; min-height: 100dvh; font-family: var(--font-body); font-size: var(--step-0); line-height: 1.6; color: var(--ink); background: var(--warm-cream); }
        .container { width: 100%; max-width: var(--container-max); margin: 0 auto; padding: 0 var(--container-padding); }
        h1 { font-family: var(--font-display); font-size: var(--step-4); color: var(--forest-shadow); text-align: center; margin: 0 0 var(--space-3); }
        h2 { font-family: var(--font-display); font-size: var(--step-3); color: var(--forest-shadow); margin: var(--space-7) 0 var(--space-4); }
        h3 { font-family: var(--font-display); font-size: var(--step-2); color: var(--forest-shadow); margin: 0 0 var(--space-3); }

        .activity-btn { padding: 0.75rem 1.75rem; border-radius: 999px; border: 1px solid var(--primary-sage); background: linear-gradient(180deg, var(--primary-sage), var(--deep-forest)); color: #fff; font-weight: 700; cursor: pointer; transition: all var(--transition-std); box-shadow: var(--shadow-1); }
        .activity-btn:hover { transform: scale(1.02); }
        .reset-btn { background: transparent; color: var(--deep-forest); border: 1px solid var(--secondary-sage); }

        .hero-section { background-size: cover; background-position: center; padding: clamp(3rem, 10vw, 6rem) 1.5rem; text-align: center; color: white; position: relative; }
        .hero-overlay { position: absolute; inset: 0; background-color: rgba(0, 0, 0, 0.4); }
        .hero-content { position: relative; z-index: 2; }
        .hero-section h1 { color: white; }
        .pills { display: flex; justify-content: center; gap: var(--space-3); margin-top: var(--space-4); flex-wrap: wrap; }
        .pill { padding: var(--space-2) var(--space-4); border-radius: 999px; font-size: var(--step--1); font-weight: 600; background-color: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); }

        .activity-card { background: var(--soft-white); border-radius: var(--radius); padding: var(--space-6); margin-bottom: var(--space-6); box-shadow: var(--shadow-1); border: 1px solid var(--border-sage); }
        .activity-card h3 { color: var(--primary-sage); margin-top: 0; border-bottom: 2px solid var(--hover-sage); padding-bottom: var(--space-2); }
        .instructions { color: var(--ink-muted); font-style: italic; margin-bottom: var(--space-5); }
        .reading-passage { background-color: var(--warm-cream); padding: var(--space-6); border-radius: var(--radius); border: 1px solid var(--border-sage); margin-bottom: var(--space-6); line-height: 1.8; }

        .mc-question { padding: var(--space-4); border: 1px solid var(--border-sage); background: white; border-radius: var(--radius-sm); margin-bottom: var(--space-4); }
        .mc-question label { display: block; padding: var(--space-2); cursor: pointer; border-radius: 5px; transition: background var(--transition-std); }
        .mc-question label:hover { background: var(--hover-sage); }
        .mc-question input[type="radio"] { margin-right: var(--space-2); }

        .grouping-table { width: 100%; border-collapse: collapse; margin: var(--space-4) 0; }
        .grouping-table th { background: var(--primary-sage); color: white; padding: var(--space-3); text-align: left; }
        .grouping-table td { padding: var(--space-3); border: 1px solid var(--border-sage); }
        .grouping-table input { width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: 5px; }

        .dropdown-q { margin: var(--space-3) 0; padding: var(--space-3); background: white; border: 1px solid var(--border-sage); border-radius: var(--radius-sm); }
        .dropdown-q select { padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: 5px; font-size: var(--step-0); margin: 0 0.5rem; }

        .postcard { background: #fff9e6; border: 3px solid var(--primary-sage); padding: var(--space-5); border-radius: var(--radius); margin: var(--space-4) 0; box-shadow: var(--shadow-1); font-family: 'Courier New', monospace; }
        .postcard-image { text-align: center; margin-bottom: var(--space-4); font-size: 3rem; }

        .ranking-box { padding: var(--space-4); background: var(--warm-cream); border-radius: var(--radius-sm); margin: var(--space-4) 0; }
        .ranking-item { display: flex; align-items: center; gap: var(--space-3); padding: var(--space-2); margin: var(--space-2) 0; background: white; border-radius: 5px; }
        .ranking-item input[type="number"] { width: 60px; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: 5px; }

        #submission-feedback { display: none; padding: var(--space-6); margin-top: var(--space-7); border-radius: var(--radius); text-align: center; }
        #submission-feedback.success { background-color: #d4edda; color: #155724; }
    </style>
</head>
<body>
    <header class="hero-section" style="background-image: url('https://images.pexels.com/photos/14075621/pexels-photo-14075621.jpeg?auto=compress&cs=tinysrgb&h=900&w=1600');">
        <div class="hero-overlay"></div>
        <div class="hero-content container">
            <h1>Exploring Jericho: The Lowest City</h1>
            <div class="pills">
                <span class="pill">Level: A1</span>
                <span class="pill">Grammar: Prepositions of Place</span>
                <span class="pill">Duration: 60 Minutes</span>
            </div>
        </div>
    </header>

    <main class="container" style="padding-top: 2rem; padding-bottom: 3rem;">

        <!-- Part 1: The Tourist Map -->
        <section>
            <h2>Part 1: Reading - Jericho Tourist Map</h2>
            <p class="instructions">Read the description of Jericho's main attractions.</p>

            <div class="reading-passage">
                <h3 style="text-align: center; color: var(--primary-sage);"><i class="fas fa-map-marked-alt"></i> Jericho: City of the Moon</h3>
                <p style="text-align: center; font-style: italic;">Welcome to the oldest city in the world! Use this guide to find the treasures of Jericho.</p>

                <h4 style="color: var(--forest-shadow); margin-top: var(--space-5);">üèîÔ∏è Mount of Temptation</h4>
                <p>This famous monastery is <strong>on</strong> the mountain. It is high above the city. You can take the cable car to reach it. The cable car station is <strong>next to</strong> the Tel Es-Sultan ruins.</p>

                <h4 style="color: var(--forest-shadow);">üèõÔ∏è Hisham's Palace</h4>
                <p>This ancient palace is <strong>in</strong> the northern part of the city. There is a beautiful mosaic floor <strong>under</strong> a protective roof. The famous "Tree of Life" mosaic is here.</p>

                <h4 style="color: var(--forest-shadow);">üå≥ The Sycamore Tree</h4>
                <p>This historic tree is <strong>at</strong> the city center, near the Russian Museum. It is the tree of Zacchaeus.</p>

                <h4 style="color: var(--forest-shadow);">üåä The Dead Sea</h4>
                <p>The sea is to the south of Jericho. It is the lowest point on Earth. People float <strong>in</strong> the salty water.</p>
            </div>
        </section>

        <!-- Part 2: Multiple Choice -->
        <section>
            <div class="activity-card">
                <h3>Part 2: Specific Information - Multiple Choice</h3>
                <p class="instructions" style="text-align: left; font-style: normal;">Choose the correct answer.</p>

                <div class="mc-question">
                    <p><strong>1. Where is the monastery located?</strong></p>
                    <label><input type="radio" name="q1" value="a"> a) In the sea</label>
                    <label><input type="radio" name="q1" value="b"> b) On the mountain</label>
                    <label><input type="radio" name="q1" value="c"> c) Under the ground</label>
                    <label><input type="radio" name="q1" value="d"> d) Next to the palace</label>
                </div>

                <div class="mc-question">
                    <p><strong>2. What is next to the cable car station?</strong></p>
                    <label><input type="radio" name="q2" value="a"> a) The Dead Sea</label>
                    <label><input type="radio" name="q2" value="b"> b) The Russian Museum</label>
                    <label><input type="radio" name="q2" value="c"> c) Tel Es-Sultan ruins</label>
                    <label><input type="radio" name="q2" value="d"> d) The mosaic</label>
                </div>

                <div class="mc-question">
                    <p><strong>3. Where is the mosaic floor?</strong></p>
                    <label><input type="radio" name="q3" value="a"> a) On the mountain</label>
                    <label><input type="radio" name="q3" value="b"> b) Under a roof</label>
                    <label><input type="radio" name="q3" value="c"> c) In the sea</label>
                    <label><input type="radio" name="q3" value="d"> d) At the bus station</label>
                </div>

                <div class="mc-question">
                    <p><strong>4. Which landmark is in the city center?</strong></p>
                    <label><input type="radio" name="q4" value="a"> a) The Sycamore Tree</label>
                    <label><input type="radio" name="q4" value="b"> b) The Dead Sea</label>
                    <label><input type="radio" name="q4" value="c"> c) The Cable Car</label>
                    <label><input type="radio" name="q4" value="d"> d) Hisham's Palace</label>
                </div>

                <button class="activity-btn" onclick="checkPart2()" style="margin-right: var(--space-3);">Check Answers</button>
                <button class="activity-btn reset-btn" onclick="resetActivity('part2')">Reset Activity</button>
            </div>
        </section>

        <!-- Part 3: Grammar Noticing -->
        <section>
            <div class="activity-card">
                <h3>Part 3: Grammar Noticing - Grouping Exercise</h3>
                <p class="instructions" style="text-align: left; font-style: normal;">Sort the locations based on the preposition used in the text.</p>

                <table class="grouping-table">
                    <thead>
                        <tr>
                            <th>ON</th>
                            <th>IN</th>
                            <th>AT</th>
                            <th>NEXT TO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="text" id="on1" placeholder="location..."></td>
                            <td><input type="text" id="in1" placeholder="location..."></td>
                            <td><input type="text" id="at1" placeholder="location..."></td>
                            <td><input type="text" id="next1" placeholder="location..."></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="on2" placeholder="(if any)"></td>
                            <td><input type="text" id="in2" placeholder="location..."></td>
                            <td><input type="text" id="at2" placeholder="(if any)"></td>
                            <td><input type="text" id="next2" placeholder="(if any)"></td>
                        </tr>
                    </tbody>
                </table>

                <div style="margin-top: var(--space-5); padding: var(--space-4); background: var(--warm-cream); border-radius: var(--radius-sm);">
                    <h4>Concept Checking Questions (CCQs)</h4>

                    <div style="background: white; padding: var(--space-3); margin-bottom: var(--space-3); border-radius: var(--radius-sm);">
                        <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);"><strong>Q1:</strong> "The monastery is on the mountain." Is it on the surface?</label>
                        <select id="ccq1" style="width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: var(--radius-sm); font-size: var(--step-0);">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>

                    <div style="background: white; padding: var(--space-3); margin-bottom: var(--space-3); border-radius: var(--radius-sm);">
                        <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);"><strong>Q2:</strong> "People float in the water." Are they surrounded by water?</label>
                        <select id="ccq2" style="width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: var(--radius-sm); font-size: var(--step-0);">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>

                    <div style="background: white; padding: var(--space-3); margin-bottom: var(--space-3); border-radius: var(--radius-sm);">
                        <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);"><strong>Q3:</strong> "Next to the ruins." Does "next to" mean touching?</label>
                        <select id="ccq3" style="width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: var(--radius-sm); font-size: var(--step-0);">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>

                    <button class="activity-btn" onclick="checkCCQ()" style="margin-top: var(--space-3);">Check CCQ Answers</button>
                </div>

                <button class="activity-btn" onclick="checkPart3()" style="margin-right: var(--space-3);">Check Grouping</button>
                <button class="activity-btn reset-btn" onclick="resetActivity('part3')">Reset Activity</button>
            </div>
        </section>

        <!-- Part 4: Dropdown Exercise -->
        <section>
            <div class="activity-card">
                <h3>Part 4: Grammar Practice - Select the Correct Preposition</h3>
                <p class="instructions" style="text-align: left; font-style: normal;">Choose the correct preposition for each sentence.</p>

                <div class="dropdown-q">
                    1. The bird is
                    <select id="drop1">
                        <option value="">--</option>
                        <option value="on">on</option>
                        <option value="in">in</option>
                        <option value="under">under</option>
                    </select>
                    the tree branch.
                </div>

                <div class="dropdown-q">
                    2. We live
                    <select id="drop2">
                        <option value="">--</option>
                        <option value="at">at</option>
                        <option value="in">in</option>
                        <option value="on">on</option>
                    </select>
                    Ramallah.
                </div>

                <div class="dropdown-q">
                    3. Put your bag
                    <select id="drop3">
                        <option value="">--</option>
                        <option value="under">under</option>
                        <option value="between">between</option>
                        <option value="at">at</option>
                    </select>
                    the table, on the floor.
                </div>

                <div class="dropdown-q">
                    4. The shop is
                    <select id="drop4">
                        <option value="">--</option>
                        <option value="between">between</option>
                        <option value="in">in</option>
                        <option value="on">on</option>
                    </select>
                    the bank and the bakery.
                </div>

                <div class="dropdown-q">
                    5. Meet me
                    <select id="drop5">
                        <option value="">--</option>
                        <option value="at">at</option>
                        <option value="on">on</option>
                        <option value="in">in</option>
                    </select>
                    the bus station.
                </div>

                <div class="dropdown-q">
                    6. The picture is
                    <select id="drop6">
                        <option value="">--</option>
                        <option value="on">on</option>
                        <option value="in">in</option>
                        <option value="at">at</option>
                    </select>
                    the wall.
                </div>

                <button class="activity-btn" onclick="checkPart4()" style="margin-right: var(--space-3);">Check Answers</button>
                <button class="activity-btn reset-btn" onclick="resetActivity('part4')">Reset Activity</button>
            </div>
        </section>

        <!-- Part 5: Postcard -->
        <section>
            <h2>Part 5: The Postcard from the Dead Sea</h2>
            <p class="instructions">Read this postcard sent from Jericho.</p>

            <div class="postcard">
                <div class="postcard-image">üèñÔ∏è üåä</div>
                <p>"Hi Grandma!</p>
                <p>I am writing this at the beach. The sun is hot, but the water is nice. My shoes are under the chair so they don't get hot. Dad is in the water right now. He is floating! There is a lot of salt on his skin. We are having fun. See you soon!"</p>
                <p style="text-align: right; margin-top: var(--space-4);">‚Äì Ahmad</p>
            </div>
        </section>

        <!-- Part 6: Creative Activities -->
        <section>
            <div class="activity-card">
                <h3>Part 6: Creative & Deductive Activities</h3>

                <div style="margin-bottom: var(--space-5);">
                    <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);">1. Specific: Where are the writer's shoes?</label>
                    <input type="text" id="creative1" style="width: 100%; padding: var(--space-3); border: 1px solid var(--tertiary-sage); border-radius: 5px;" placeholder="Your answer">
                </div>

                <div style="margin-bottom: var(--space-5);">
                    <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);">2. Deductive: Why are the shoes under the chair?</label>
                    <input type="text" id="creative2" style="width: 100%; padding: var(--space-3); border: 1px solid var(--tertiary-sage); border-radius: 5px;" placeholder="Your answer">
                </div>

                <div class="ranking-box">
                    <h4>3. Creative - Ranking Activity</h4>
                    <p>Which activity in Jericho do you think is the most exciting? Rank them 1-4 (1 = most exciting).</p>

                    <div class="ranking-item">
                        <input type="number" id="rank1" min="1" max="4" placeholder="?">
                        <label>Riding the Cable Car</label>
                    </div>
                    <div class="ranking-item">
                        <input type="number" id="rank2" min="1" max="4" placeholder="?">
                        <label>Floating in the Dead Sea</label>
                    </div>
                    <div class="ranking-item">
                        <input type="number" id="rank3" min="1" max="4" placeholder="?">
                        <label>Seeing the Mosaics</label>
                    </div>
                    <div class="ranking-item">
                        <input type="number" id="rank4" min="1" max="4" placeholder="?">
                        <label>Visiting the Tree</label>
                    </div>
                </div>

                <div style="margin-top: var(--space-5);">
                    <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);">4. Why did you choose number 1? Write one sentence using a preposition.</label>
                    <textarea id="creative4" style="width: 100%; padding: var(--space-3); border: 1px solid var(--tertiary-sage); border-radius: 5px; min-height: 80px;" placeholder="Example: I like being in the water."></textarea>
                </div>

                <button class="activity-btn" onclick="checkPart6()" style="margin-right: var(--space-3);">Check Answers</button>
                <button class="activity-btn reset-btn" onclick="resetActivity('part6')">Reset Activity</button>
            </div>
        </section>

        <!-- Submission -->
        <div style="text-align: center; margin-top: var(--space-7);">
            <button class="activity-btn" onclick="submitWorksheet()">Complete Worksheet</button>
        </div>

        <div id="submission-feedback"></div>
    </main>

    <script>
        // Answer normalization and checking
        function normalizeAnswer(answer) {
            return answer.toLowerCase().trim().replace(/[.,!?;:]/g, '');
        }

        function checkAnswer(userAnswer, correctAnswers) {
            const normalized = normalizeAnswer(userAnswer);
            return correctAnswers.some(correct => normalizeAnswer(correct) === normalized ||
                                                   normalized.includes(normalizeAnswer(correct)));
        }

        function setFeedback(elementId, isCorrect) {
            const element = document.getElementById(elementId);
            if (!element) return;
            element.style.border = isCorrect ? '2px solid #28a745' : '2px solid #dc3545';
            element.style.backgroundColor = isCorrect ? '#d4edda' : '#f8d7da';
        }

        function setRadioFeedback(questionName, isCorrect) {
            const labels = document.querySelectorAll(`.mc-question input[name="${questionName}"]`).forEach(radio => {
                radio.parentElement.style.backgroundColor = '';
            });
            const checked = document.querySelector(`input[name="${questionName}"]:checked`);
            if (checked) {
                checked.parentElement.style.backgroundColor = isCorrect ? '#d4edda' : '#f8d7da';
            }
        }

        function clearFeedback(elementId) {
            const element = document.getElementById(elementId);
            if (!element) return;
            element.style.border = '';
            element.style.backgroundColor = '';
        }

        function clearRadioFeedback(questionName) {
            document.querySelectorAll(`.mc-question input[name="${questionName}"]`).forEach(radio => {
                radio.parentElement.style.backgroundColor = '';
            });
        }

        // Part 2: Multiple Choice
        function checkPart2() {
            const answers = {q1: 'b', q2: 'c', q3: 'b', q4: 'a'};
            let correct = 0;
            let total = 4;

            for (let q in answers) {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                const isCorrect = selected && selected.value === answers[q];
                setRadioFeedback(q, isCorrect);
                if (isCorrect) correct++;
            }

            alert(`Part 2: You got ${correct} out of ${total} correct!`);
        }

        // Part 3: Grouping + CCQ
        function checkPart3() {
            // Expected answers for grouping
            const answers = {
                on1: ['the mountain', 'mountain'],
                in1: ['northern part', 'the city', 'city', 'water', 'the water'],
                in2: ['the salty water', 'salty water', 'northern part of the city'],
                at1: ['city center', 'the city center'],
                next1: ['tel es-sultan', 'ruins', 'tel es-sultan ruins']
            };

            let correct = 0;
            let total = 0;

            for (let id in answers) {
                if (document.getElementById(id)) {
                    total++;
                    const userAnswer = document.getElementById(id).value;
                    if (userAnswer) {
                        const isCorrect = checkAnswer(userAnswer, answers[id]);
                        setFeedback(id, isCorrect);
                        if (isCorrect) correct++;
                    }
                }
            }

            alert(`Grouping: You got ${correct} out of ${total} filled correctly!`);
        }

        // CCQ for Part 3
        function checkCCQ() {
            const answers = {ccq1: 'yes', ccq2: 'yes', ccq3: 'no'};
            let correct = 0;
            let total = 3;

            for (let i = 1; i <= 3; i++) {
                const userAnswer = document.getElementById('ccq' + i).value;
                const isCorrect = userAnswer === answers['ccq' + i];
                setFeedback('ccq' + i, isCorrect);
                if (isCorrect) correct++;
            }

            alert(`CCQ: You got ${correct} out of ${total} correct!`);
        }

        // Part 4: Dropdown
        function checkPart4() {
            const answers = {drop1: 'on', drop2: 'in', drop3: 'under', drop4: 'between', drop5: 'at', drop6: 'on'};
            let correct = 0;
            let total = 6;

            for (let i = 1; i <= 6; i++) {
                const userAnswer = document.getElementById('drop' + i).value;
                const isCorrect = userAnswer === answers['drop' + i];
                setFeedback('drop' + i, isCorrect);
                if (isCorrect) correct++;
            }

            alert(`Part 4: You got ${correct} out of ${total} correct!`);
        }

        // Part 6: Creative
        function checkPart6() {
            const q1 = document.getElementById('creative1').value;
            const q2 = document.getElementById('creative2').value;
            const q4 = document.getElementById('creative4').value;

            let feedback = 'Part 6 checked:\n';

            // Q1: Under the chair
            const q1Correct = checkAnswer(q1, ['under the chair', 'under chair']);
            setFeedback('creative1', q1Correct);
            feedback += q1Correct ? '‚úì Q1 correct\n' : '‚úó Q1: Where are the shoes?\n';

            // Q2: Creative - check if filled
            const q2Filled = q2.length > 10;
            setFeedback('creative2', q2Filled);
            feedback += q2Filled ? '‚úì Q2 answered\n' : '‚úó Q2: Please explain why\n';

            // Q4: Creative - check if filled
            const q4Filled = q4.length > 15;
            setFeedback('creative4', q4Filled);
            feedback += q4Filled ? '‚úì Q4 answered' : '‚úó Q4: Please write a complete sentence';

            alert(feedback);
        }

        // Reset activities
        function resetActivity(part) {
            if (part === 'part2') {
                ['q1', 'q2', 'q3', 'q4'].forEach(name => {
                    document.querySelectorAll(`input[name="${name}"]`).forEach(input => input.checked = false);
                    clearRadioFeedback(name);
                });
            } else if (part === 'part3') {
                ['on1', 'on2', 'in1', 'in2', 'at1', 'at2', 'next1', 'next2'].forEach(id => {
                    if (document.getElementById(id)) {
                        document.getElementById(id).value = '';
                        clearFeedback(id);
                    }
                });
                ['ccq1', 'ccq2', 'ccq3'].forEach(id => {
                    if (document.getElementById(id)) {
                        document.getElementById(id).value = '';
                        clearFeedback(id);
                    }
                });
            } else if (part === 'part4') {
                for (let i = 1; i <= 6; i++) {
                    if (document.getElementById('drop' + i)) {
                        document.getElementById('drop' + i).value = '';
                        clearFeedback('drop' + i);
                    }
                }
            } else if (part === 'part6') {
                ['creative1', 'creative2', 'rank1', 'rank2', 'rank3', 'rank4', 'creative4'].forEach(id => {
                    if (document.getElementById(id)) {
                        document.getElementById(id).value = '';
                        clearFeedback(id);
                    }
                });
            }
        }

        function submitWorksheet() {
            const feedback = document.getElementById('submission-feedback');
            feedback.style.display = 'block';
            feedback.classList.add('success');
            feedback.innerHTML = '<h2>Worksheet Complete!</h2><p>Excellent work practicing <strong>Prepositions of Place</strong>. Review your answers with your teacher.</p>';
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }
    </script>
</body>
</html>
