<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B2.2: The Digital Economy</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Questrial&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        :root {
          --primary-sage: #7a8471; --secondary-sage: #9caf88; --tertiary-sage: #b8c5a6; --warm-cream: #f8f6f0;
          --soft-white: #fefcf7; --forest-shadow: #5a6b52; --ink: #2f3a2b; --ink-muted: #5a6b52;
          --border-sage: rgba(122, 132, 113, 0.2); --hover-sage: rgba(156, 175, 136, 0.15); --deep-forest: #3e4a3a;
          --font-display: "Questrial", system-ui, sans-serif; --font-body: "Nunito", system-ui, sans-serif;
          --step--1: clamp(0.875rem, 0.82rem + 0.18vw, 0.95rem); --step-0: clamp(1rem, 0.94rem + 0.28vw, 1.1rem);
          --step-1: clamp(1.125rem, 1.04rem + 0.42vw, 1.32rem); --step-2: clamp(1.35rem, 1.18rem + 0.68vw, 1.65rem);
          --step-3: clamp(1.75rem, 1.42rem + 1.1vw, 2.1rem); --step-4: clamp(2.25rem, 1.8rem + 1.65vw, 2.75rem);
          --space-2: 0.5rem; --space-3: 0.75rem; --space-4: 1rem; --space-5: 1.25rem; --space-6: 1.5rem; --space-7: 2rem;
          --radius-sm: 10px; --radius: 16px; --shadow-1: 0 1px 2px rgba(34, 41, 32, 0.05), 0 2px 8px rgba(34, 41, 32, 0.06);
          --transition-std: 250ms cubic-bezier(.2,.8,.2,1); --container-max: clamp(320px, 92vw, 940px);
          --container-padding: clamp(1.25rem, 5vw, 2rem);
        }
        *, *::before, *::after { box-sizing: border-box; }
        body { margin: 0; font-family: var(--font-body); font-size: var(--step-0); line-height: 1.6; color: var(--ink); background: var(--warm-cream); }
        .container { max-width: var(--container-max); margin: 0 auto; padding: 0 var(--container-padding); }
        h1 { font-family: var(--font-display); font-size: var(--step-4); color: var(--forest-shadow); text-align: center; margin: 0 0 var(--space-3); }
        h2 { font-family: var(--font-display); font-size: var(--step-3); color: var(--forest-shadow); margin: var(--space-7) 0 var(--space-4); }
        h3 { font-family: var(--font-display); font-size: var(--step-2); color: var(--forest-shadow); margin: 0 0 var(--space-3); }
        .activity-btn { padding: 0.75rem 1.75rem; border-radius: 999px; border: 1px solid var(--primary-sage); background: linear-gradient(180deg, var(--primary-sage), var(--deep-forest)); color: #fff; font-weight: 700; cursor: pointer; transition: all var(--transition-std); box-shadow: var(--shadow-1); }
        .activity-btn:hover { transform: scale(1.02); }
        .reset-btn { background: transparent; color: var(--deep-forest); border: 1px solid var(--secondary-sage); }
        .hero-section { background-size: cover; background-position: center; padding: clamp(3rem, 10vw, 6rem) 1.5rem; text-align: center; color: white; position: relative; }
        .hero-overlay { position: absolute; inset: 0; background-color: rgba(0, 0, 0, 0.4); }
        .hero-content { position: relative; z-index: 2; }
        .hero-section h1 { color: white; }
        .pills { display: flex; justify-content: center; gap: var(--space-3); margin-top: var(--space-4); flex-wrap: wrap; }
        .pill { padding: var(--space-2) var(--space-4); border-radius: 999px; font-size: var(--step--1); font-weight: 600; background-color: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); }
        .activity-card { background: var(--soft-white); border-radius: var(--radius); padding: var(--space-6); margin-bottom: var(--space-6); box-shadow: var(--shadow-1); border: 1px solid var(--border-sage); }
        .activity-card h3 { color: var(--primary-sage); margin-top: 0; border-bottom: 2px solid var(--hover-sage); padding-bottom: var(--space-2); }
        .instructions { color: var(--ink-muted); font-style: italic; margin-bottom: var(--space-5); }
        .reading-passage { background-color: var(--warm-cream); padding: var(--space-6); border-radius: var(--radius); border: 1px solid var(--border-sage); margin-bottom: var(--space-6); line-height: 1.8; }
        .job-portal { background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: var(--space-5); border-radius: var(--radius); margin: var(--space-4) 0; }
        .true-false-item { padding: var(--space-3); background: white; border: 1px solid var(--border-sage); border-radius: var(--radius-sm); margin: var(--space-2) 0; display: flex; justify-content: space-between; align-items: center; }
        .tf-buttons { display: flex; gap: var(--space-2); }
        .tf-buttons button { padding: var(--space-2) var(--space-4); border-radius: 999px; border: 1px solid var(--border-sage); background: white; cursor: pointer; transition: all var(--transition-std); }
        .tf-buttons button.selected-true { background: #d4edda; border-color: #28a745; }
        .tf-buttons button.selected-false { background: #f8d7da; border-color: #dc3545; }
        .highlight-exercise { padding: var(--space-4); background: white; border: 1px solid var(--border-sage); border-radius: var(--radius-sm); margin: var(--space-3) 0; line-height: 2; }
        .highlight-word { padding: 0.2rem 0.4rem; cursor: pointer; transition: all var(--transition-std); border-radius: 3px; }
        .highlight-word:hover { background: #fff9c4; }
        .highlight-word.highlighted { background: #ffeb3b; font-weight: 700; }
        .sentence-join { padding: var(--space-4); background: var(--warm-cream); border-radius: var(--radius-sm); margin: var(--space-3) 0; }
        .sentence-pair { margin: var(--space-3) 0; }
        .sentence-pair input { width: 100%; padding: var(--space-3); border: 1px solid var(--tertiary-sage); border-radius: 5px; margin-top: var(--space-2); }
        .profile-card { background: linear-gradient(135deg, #f093fb, #f5576c); color: white; padding: var(--space-5); border-radius: var(--radius); }
        #submission-feedback { display: none; padding: var(--space-6); margin-top: var(--space-7); border-radius: var(--radius); text-align: center; }
        #submission-feedback.success { background-color: #d4edda; color: #155724; }
    </style>
</head>
<body>
    <header class="hero-section" style="background-image: url('https://images.pexels.com/photos/3183197/pexels-photo-3183197.jpeg?auto=compress&cs=tinysrgb&h=900&w=1600');">
        <div class="hero-overlay"></div>
        <div class="hero-content container">
            <h1>The Digital Economy</h1>
            <div class="pills">
                <span class="pill">Level: B2</span>
                <span class="pill">Grammar: Relative Clauses</span>
                <span class="pill">Duration: 60 Minutes</span>
            </div>
        </div>
    </header>

    <main class="container" style="padding-top: 2rem; padding-bottom: 3rem;">
        <section>
            <h2>Part 1: Reading - TechStart Job Portal</h2>
            <p class="instructions">Read this job advertisement from a tech company in Rawabi.</p>
            <div class="reading-passage">
                <div class="job-portal">
                    <h3 style="margin-top: 0;"><i class="fas fa-laptop-code"></i> TechStart Solutions - Rawabi</h3>
                    <p style="font-style: italic; text-align: center;">Building Palestine's Digital Future</p>
                </div>

                <h4 style="color: var(--primary-sage);">We're Hiring: Full-Stack Developer</h4>
                <p><strong>TechStart Solutions</strong>, <strong>which</strong> was founded in 2019, is a rapidly growing tech company <strong>that</strong> specializes in mobile and web applications. We're looking for developers <strong>who</strong> are passionate about innovation.</p>

                <h4 style="color: var(--primary-sage);">About the Role</h4>
                <p>The developer <strong>whose</strong> application stands out will join a team of 15 engineers. You'll work on projects <strong>that</strong> serve clients across the MENA region. Our office, <strong>which</strong> is located in Rawabi's tech hub, offers a collaborative environment <strong>where</strong> creativity thrives.</p>

                <h4 style="color: var(--primary-sage);">Requirements</h4>
                <ul>
                    <li>Candidates <strong>who</strong> have 2+ years of experience in JavaScript and Python</li>
                    <li>Someone <strong>who</strong> can work independently and in teams</li>
                    <li>A person <strong>whose</strong> portfolio demonstrates problem-solving skills</li>
                    <li>Developers <strong>who</strong> are familiar with Agile methodologies</li>
                </ul>

                <h4 style="color: var(--primary-sage);">What We Offer</h4>
                <p>We provide benefits <strong>that</strong> include health insurance, flexible hours, and professional development. Employees <strong>whose</strong> performance exceeds expectations receive quarterly bonuses. This is a workplace <strong>where</strong> Palestinian talent can flourish.</p>

                <p style="font-style: italic; margin-top: var(--space-5);">To apply, send your CV to careers@techstart.ps - applications <strong>which</strong> include a cover letter will be prioritized.</p>
            </div>
        </section>

        <section>
            <div class="activity-card">
                <h3>Part 2: True/False Questions</h3>
                <p class="instructions" style="text-align: left; font-style: normal;">Read the sentences and decide if they are True or False.</p>

                <div class="true-false-item">
                    <span>1. TechStart Solutions was founded in 2019.</span>
                    <div class="tf-buttons">
                        <button onclick="selectTF(this, 'tf1', true)">True</button>
                        <button onclick="selectTF(this, 'tf1', false)">False</button>
                    </div>
                </div>
                <div class="true-false-item">
                    <span>2. The office is located in Ramallah.</span>
                    <div class="tf-buttons">
                        <button onclick="selectTF(this, 'tf2', true)">True</button>
                        <button onclick="selectTF(this, 'tf2', false)">False</button>
                    </div>
                </div>
                <div class="true-false-item">
                    <span>3. Candidates need 2+ years of experience in JavaScript.</span>
                    <div class="tf-buttons">
                        <button onclick="selectTF(this, 'tf3', true)">True</button>
                        <button onclick="selectTF(this, 'tf3', false)">False</button>
                    </div>
                </div>
                <div class="true-false-item">
                    <span>4. All employees receive quarterly bonuses.</span>
                    <div class="tf-buttons">
                        <button onclick="selectTF(this, 'tf4', true)">True</button>
                        <button onclick="selectTF(this, 'tf4', false)">False</button>
                    </div>
                </div>
                <div class="true-false-item">
                    <span>5. A cover letter is required for all applications.</span>
                    <div class="tf-buttons">
                        <button onclick="selectTF(this, 'tf5', true)">True</button>
                        <button onclick="selectTF(this, 'tf5', false)">False</button>
                    </div>
                </div>

                <button class="activity-btn" onclick="checkPart2()" style="margin-right: var(--space-3);">Check Answers</button>
                <button class="activity-btn reset-btn" onclick="resetActivity('part2')">Reset Activity</button>
            </div>
        </section>

        <section>
            <div class="activity-card">
                <h3>Part 3: Highlight Relative Pronouns</h3>
                <p class="instructions" style="text-align: left; font-style: normal;">Click on all the relative pronouns (who, which, whose, where, that) in the text below.</p>

                <div class="highlight-exercise">
                    <p>The company <span class="highlight-word" onclick="toggleHighlight(this)">which</span> I work for is based in Nablus. My manager, <span class="highlight-word" onclick="toggleHighlight(this)">whose</span> background is in software engineering, has been very supportive. We have clients <span class="highlight-word" onclick="toggleHighlight(this)">who</span> appreciate our innovative solutions. The workspace <span class="highlight-word" onclick="toggleHighlight(this)">where</span> we collaborate is modern and equipped with the latest technology. Projects <span class="highlight-word" onclick="toggleHighlight(this)">that</span> we complete are showcased at tech conferences.</p>
                </div>

                <div style="margin-top: var(--space-6); padding: var(--space-4); background: var(--warm-cream); border-radius: var(--radius-sm);">
                    <h4>Concept Checking Questions (CCQs)</h4>

                    <div style="background: white; padding: var(--space-3); margin-bottom: var(--space-3); border-radius: var(--radius-sm);">
                        <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);"><strong>Q1:</strong> Do we use "who" for people?</label>
                        <select id="ccq1" style="width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: var(--radius-sm); font-size: var(--step-0);">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>

                    <div style="background: white; padding: var(--space-3); margin-bottom: var(--space-3); border-radius: var(--radius-sm);">
                        <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);"><strong>Q2:</strong> Does "whose" show possession?</label>
                        <select id="ccq2" style="width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: var(--radius-sm); font-size: var(--step-0);">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>

                    <div style="background: white; padding: var(--space-3); margin-bottom: var(--space-3); border-radius: var(--radius-sm);">
                        <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);"><strong>Q3:</strong> Can we use "that" for both people and things?</label>
                        <select id="ccq3" style="width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: var(--radius-sm); font-size: var(--step-0);">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>

                    <div style="background: white; padding: var(--space-3); margin-bottom: var(--space-3); border-radius: var(--radius-sm);">
                        <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);"><strong>Q4:</strong> Do we use "where" for places?</label>
                        <select id="ccq4" style="width: 100%; padding: var(--space-2); border: 1px solid var(--tertiary-sage); border-radius: var(--radius-sm); font-size: var(--step-0);">
                            <option value="">Choose...</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>

                    <button class="activity-btn" onclick="checkCCQ()" style="margin-top: var(--space-3);">Check CCQ Answers</button>
                </div>

                <button class="activity-btn reset-btn" onclick="resetActivity('part3')">Reset Activity</button>
            </div>
        </section>

        <section>
            <div class="activity-card">
                <h3>Part 4: Join Sentences with Relative Clauses</h3>
                <p class="instructions" style="text-align: left; font-style: normal;">Combine the two sentences using the appropriate relative pronoun (who, which, whose, where).</p>

                <div class="sentence-join">
                    <div class="sentence-pair">
                        <p><strong>1.</strong> I met a developer. She works at Google.</p>
                        <input type="text" id="join1" placeholder="I met a developer who...">
                    </div>
                    <div class="sentence-pair">
                        <p><strong>2.</strong> This is the laptop. I use it for programming.</p>
                        <input type="text" id="join2" placeholder="This is the laptop which/that...">
                    </div>
                    <div class="sentence-pair">
                        <p><strong>3.</strong> The programmer won the award. His app is very popular.</p>
                        <input type="text" id="join3" placeholder="The programmer whose...">
                    </div>
                    <div class="sentence-pair">
                        <p><strong>4.</strong> Ramallah is a city. Many tech startups are based there.</p>
                        <input type="text" id="join4" placeholder="Ramallah is a city where...">
                    </div>
                    <div class="sentence-pair">
                        <p><strong>5.</strong> I'm reading a book. It explains artificial intelligence.</p>
                        <input type="text" id="join5" placeholder="I'm reading a book which/that...">
                    </div>
                    <div class="sentence-pair">
                        <p><strong>6.</strong> She hired an employee. His skills matched the requirements.</p>
                        <input type="text" id="join6" placeholder="She hired an employee whose...">
                    </div>
                </div>

                <button class="activity-btn" onclick="checkPart4()" style="margin-right: var(--space-3);">Check Answers</button>
                <button class="activity-btn reset-btn" onclick="resetActivity('part4')">Reset Activity</button>
            </div>
        </section>

        <section>
            <h2>Part 5: Variant Text - Freelancer Profile</h2>
            <p class="instructions">Read this freelancer's profile from Gaza.</p>
            <div class="profile-card">
                <h3 style="margin-top: 0;"><i class="fas fa-user-circle"></i> Layla Hassan - Graphic Designer</h3>
                <p><strong>Location:</strong> Gaza City, Palestine | <strong>Years Active:</strong> 5+</p>

                <p>Hi! I'm Layla, a graphic designer <strong>whose</strong> passion is creating visual stories. I work with clients <strong>who</strong> value creativity and originality. My portfolio, <strong>which</strong> includes over 200 projects, showcases work for NGOs, startups, and international brands.</p>

                <h4>Services I Offer:</h4>
                <ul>
                    <li>Brand identity design - the service <strong>that</strong> most clients request</li>
                    <li>Social media graphics <strong>which</strong> boost engagement</li>
                    <li>Illustrations <strong>that</strong> tell Palestinian narratives</li>
                </ul>

                <p>I use Adobe Creative Suite, tools <strong>which</strong> are industry-standard. My home studio, <strong>where</strong> I spend 8+ hours daily, is equipped with professional hardware. I collaborate with teams <strong>whose</strong> vision aligns with social impact.</p>

                <p><strong>Why work with me?</strong> I'm someone <strong>who</strong> meets deadlines, communicates clearly, and delivers quality. Clients <strong>whose</strong> projects I've worked on often return for more collaborations.</p>

                <p style="font-style: italic;">I'm currently available for freelance projects. Contact me at layla.designs@email.ps</p>
            </div>
        </section>

        <section>
            <div class="activity-card">
                <h3>Part 6: Creative & Deductive Activities</h3>
                <div style="margin-bottom: var(--space-5);">
                    <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);">1. Specific: How many projects does Layla's portfolio include?</label>
                    <input type="text" id="creative1" style="width: 100%; padding: var(--space-3); border: 1px solid var(--tertiary-sage); border-radius: 5px;" placeholder="Your answer">
                </div>
                <div style="margin-bottom: var(--space-5);">
                    <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);">2. Deductive: Layla says she works with "clients whose vision aligns with social impact." What does this tell us about her values and the type of work she prefers?</label>
                    <textarea id="creative2" style="width: 100%; padding: var(--space-3); border: 1px solid var(--tertiary-sage); border-radius: 5px; min-height: 100px;" placeholder="Your analysis"></textarea>
                </div>
                <div style="margin-bottom: var(--space-5);">
                    <label style="font-weight: 600; display: block; margin-bottom: var(--space-2);">3. Creative: Write a short professional profile about yourself (real or imagined). Use at least 5 relative clauses with different relative pronouns (who, which, whose, where, that). Describe your skills, work environment, or the type of clients/projects you're interested in. (At least 6 sentences)</label>
                    <textarea id="creative3" style="width: 100%; padding: var(--space-3); border: 1px solid var(--tertiary-sage); border-radius: 5px; min-height: 150px;" placeholder="Your professional profile..."></textarea>
                </div>

                <button class="activity-btn" onclick="checkPart6()" style="margin-right: var(--space-3);">Check Answers</button>
                <button class="activity-btn reset-btn" onclick="resetActivity('part6')">Reset Activity</button>
            </div>
        </section>

        <div style="text-align: center; margin-top: var(--space-7);">
            <button class="activity-btn" onclick="submitWorksheet()">Complete Worksheet</button>
        </div>
        <div id="submission-feedback"></div>
    </main>

    <script>
        let tfSelections = {};

        // Answer normalization and checking
        function normalizeAnswer(answer) {
            return answer.toLowerCase().trim().replace(/[.,!?;:]/g, '');
        }

        function checkAnswer(userAnswer, correctAnswers) {
            const normalized = normalizeAnswer(userAnswer);
            return correctAnswers.some(correct => normalizeAnswer(correct) === normalized ||
                                                   normalized.includes(normalizeAnswer(correct)));
        }

        function setFeedback(elementId, isCorrect) {
            const element = document.getElementById(elementId);
            if (!element) return;
            element.style.border = isCorrect ? '2px solid #28a745' : '2px solid #dc3545';
            element.style.backgroundColor = isCorrect ? '#d4edda' : '#f8d7da';
        }

        function clearFeedback(elementId) {
            const element = document.getElementById(elementId);
            if (!element) return;
            element.style.border = '';
            element.style.backgroundColor = '';
        }

        function selectTF(button, id, value) {
            const parent = button.parentElement;
            parent.querySelectorAll('button').forEach(btn => {
                btn.classList.remove('selected-true', 'selected-false');
            });
            button.classList.add(value ? 'selected-true' : 'selected-false');
            tfSelections[id] = value;
        }

        function toggleHighlight(element) {
            element.classList.toggle('highlighted');
        }

        // Part 2: True/False
        function checkPart2() {
            const answers = {tf1: true, tf2: false, tf3: true, tf4: false, tf5: false};
            let correct = 0;
            let total = 5;

            for (let id in answers) {
                if (tfSelections[id] !== undefined) {
                    const isCorrect = tfSelections[id] === answers[id];
                    // Visual feedback on the buttons
                    const buttons = document.querySelectorAll(`[onclick*="${id}"]`);
                    buttons.forEach(btn => {
                        btn.style.opacity = isCorrect ? '1' : '0.6';
                    });
                    if (isCorrect) correct++;
                }
            }

            alert(`Part 2: You got ${correct} out of ${total} correct!`);
        }

        // CCQ
        function checkCCQ() {
            const answers = {ccq1: 'yes', ccq2: 'yes', ccq3: 'yes', ccq4: 'yes'};
            let correct = 0;
            let total = 4;

            for (let i = 1; i <= 4; i++) {
                const userAnswer = document.getElementById('ccq' + i).value;
                const isCorrect = userAnswer === answers['ccq' + i];
                setFeedback('ccq' + i, isCorrect);
                if (isCorrect) correct++;
            }

            alert(`CCQ: You got ${correct} out of ${total} correct!`);
        }

        // Part 4: Join sentences
        function checkPart4() {
            const answers = {
                join1: ['i met a developer who works at google', 'developer who works'],
                join2: ['this is the laptop which i use for programming', 'laptop that i use', 'laptop which i use'],
                join3: ['the programmer whose app is very popular won the award', 'programmer whose app'],
                join4: ['ramallah is a city where many tech startups are based', 'city where many'],
                join5: ['i am reading a book which explains artificial intelligence', 'book that explains', 'book which explains'],
                join6: ['she hired an employee whose skills matched the requirements', 'employee whose skills']
            };

            let correct = 0;
            let total = 6;

            for (let i = 1; i <= 6; i++) {
                const userAnswer = document.getElementById('join' + i).value;
                const isCorrect = checkAnswer(userAnswer, answers['join' + i]);
                setFeedback('join' + i, isCorrect);
                if (isCorrect) correct++;
            }

            alert(`Part 4: You got ${correct} out of ${total} correct!`);
        }

        // Part 6: Creative
        function checkPart6() {
            const q1 = document.getElementById('creative1').value;
            const q2 = document.getElementById('creative2').value;
            const q3 = document.getElementById('creative3').value;

            let feedback = 'Part 6 checked:\n';

            // Q1: 200 projects
            const q1Correct = checkAnswer(q1, ['200', 'over 200', '200 projects', 'over 200 projects']);
            setFeedback('creative1', q1Correct);
            feedback += q1Correct ? '✓ Q1 correct\n' : '✗ Q1: How many projects?\n';

            // Q2 & Q3: Creative - check if filled
            const q2Filled = q2.length > 30;
            const q3Filled = q3.length > 80;

            setFeedback('creative2', q2Filled);
            setFeedback('creative3', q3Filled);

            feedback += q2Filled ? '✓ Q2 answered\n' : '✗ Q2: Please provide a detailed analysis\n';
            feedback += q3Filled ? '✓ Q3 answered' : '✗ Q3: Please write a complete profile (at least 6 sentences)';

            alert(feedback);
        }

        // Reset activities
        function resetActivity(part) {
            if (part === 'part2') {
                document.querySelectorAll('.tf-buttons button').forEach(btn => {
                    btn.classList.remove('selected-true', 'selected-false');
                    btn.style.opacity = '1';
                });
                tfSelections = {};
            } else if (part === 'part3') {
                document.querySelectorAll('.highlight-word').forEach(word => {
                    word.classList.remove('highlighted');
                });
                ['ccq1', 'ccq2', 'ccq3', 'ccq4'].forEach(id => {
                    if (document.getElementById(id)) {
                        document.getElementById(id).value = '';
                        clearFeedback(id);
                    }
                });
            } else if (part === 'part4') {
                ['join1', 'join2', 'join3', 'join4', 'join5', 'join6'].forEach(id => {
                    document.getElementById(id).value = '';
                    clearFeedback(id);
                });
            } else if (part === 'part6') {
                ['creative1', 'creative2', 'creative3'].forEach(id => {
                    document.getElementById(id).value = '';
                    clearFeedback(id);
                });
            }
        }

        function submitWorksheet() {
            const feedback = document.getElementById('submission-feedback');
            feedback.style.display = 'block';
            feedback.classList.add('success');
            feedback.innerHTML = '<h2>Worksheet Complete!</h2><p>Outstanding work mastering <strong>Relative Clauses</strong>! You\'ve connected ideas beautifully!</p>';
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }
    </script>
</body>
</html>
